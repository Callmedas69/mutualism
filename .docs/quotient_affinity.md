# Affinity

## Get all mutuals with affinity ranking

> Retrieve all mutual connections for a Farcaster user, ranked by combined attention + influence scores.

```json
{"openapi":"3.1.0","info":{"title":"Quotient API","version":"0.1.0"},"paths":{"/v1/farcaster-connections-all":{"post":{"tags":["Farcaster Connections"],"summary":"Get all mutuals with affinity ranking","description":"Retrieve all mutual connections for a Farcaster user, ranked by combined attention + influence scores.","operationId":"get_all_mutuals_ranked_v1_farcaster_connections_all_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectionsAllRequest"}}},"required":true},"responses":{"200":{"description":"Successfully retrieved ranked mutuals","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConnectionsAllResponse"}}}},"401":{"description":"Unauthorized - Invalid API key"},"404":{"description":"No mutuals found for the provided FID"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}},"500":{"description":"Internal Server Error"}}}}},"components":{"schemas":{"ConnectionsAllRequest":{"properties":{"fid":{"type":"integer","title":"Fid","description":"Farcaster ID to get mutuals for"},"api_key":{"type":"string","title":"Api Key","description":"API key for authentication"}},"type":"object","required":["fid","api_key"],"title":"ConnectionsAllRequest","description":"Request model for all mutuals endpoint."},"ConnectionsAllResponse":{"properties":{"fid":{"type":"integer","title":"Fid"},"mutuals":{"items":{"$ref":"#/components/schemas/app__api__endpoints__farcaster_connections_all__MutualUser"},"type":"array","title":"Mutuals"},"count":{"type":"integer","title":"Count"}},"type":"object","required":["fid","mutuals","count"],"title":"ConnectionsAllResponse","description":"Response model for all mutuals endpoint."},"app__api__endpoints__farcaster_connections_all__MutualUser":{"properties":{"fid":{"type":"integer","title":"Fid"},"username":{"type":"string","title":"Username"},"pfp_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pfp Url"},"rank":{"type":"integer","title":"Rank"},"combined_score":{"type":"number","title":"Combined Score"},"attention_score":{"type":"number","title":"Attention Score"},"influence_score":{"type":"number","title":"Influence Score"}},"type":"object","required":["fid","username","rank","combined_score","attention_score","influence_score"],"title":"MutualUser","description":"Model for a mutual connection with affinity scores."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}
```
